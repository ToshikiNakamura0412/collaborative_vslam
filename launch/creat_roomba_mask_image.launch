<?xml version="1.0"?>
<launch>
    <!-- roomba number -->
    <arg name="roomba" default="roomba3"/>

    <!-- topic name -->
    <arg name="image_topic" default="/$(arg roomba)/camera/color/image_rect_color"/>
    <arg name="bbox_topic" default="/$(arg roomba)/bounding_boxes"/>

    <!-- launch node -->
    <node pkg="collaborative_vslam" type="roomba_mask_creator_node" name="roomba_mask_image" output="screen">
        <!-- topic name -->
        <remap from="/image_raw" to="$(arg image_topic)"/>
        <remap from="/bboxes" to="$(arg bbox_topic)"/>
        <remap from="/mask_image" to="/$(arg roomba)/mask_image"/>

        <!-- parameter -->
        <param name="/hz" value="15"/>
    </node>

    <!-- debug -->
    <include file="$(find collaborative_vslam)/launch/unzipping.launch">
        <arg name="roomba" default="$(arg roomba)"/>
    </include>
    <include file="$(find darknet_ros)/launch/dkan.launch">
        <arg name="roomba" default="$(arg roomba)"/>
    </include>
    <node pkg="rosbag" type="play" name="bag_play" args="/home/amsl/bagfiles/buddy_roomba_20221201/roomba3_2022-12-01-21-51-23.bag"/>
    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find collaborative_vslam)/config/rviz/creat_mask_image.rviz"/>
</launch>
